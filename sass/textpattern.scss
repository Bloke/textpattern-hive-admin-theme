//
// note: this file is for use with Sass and Compass - http://sass-lang.com, http://compass-style.org
// don't use it as your live site stylesheet!
//


// import Sass partials
@import "variables", "mixins";


/* Base
   ========================================================================== */

/* corrects block display not defined in IE8-9 */
article,
aside,
details,
figcaption,
figure,
footer,
header,
main,
nav,
section,
summary {
	display: block;
}

/* addresses styling for `hidden` attribute not present in IE8-9 */
[hidden] {
	display: none;
}

html {
	-webkit-tap-highlight-color: rgba(0, 102, 255, 0.5);
	/* prevents iOS text size adjust after orientation change, without disabling user zoom */
	-webkit-text-size-adjust: 100%;
	/* as above, for Windows Phone */
	-ms-text-size-adjust: 100%;
}


/* Clearfix
   ========================================================================== */

.clearfix {
	@include pie-clearfix;
}

.clear {
	clear: both;
}


@import "grid", "links", "typography", "internationalisation", "embedded-content", "alerts", "twisties", "progress", "forms", "buttons", "lists", "tables";


/* Container
   ========================================================================== */

body {
	position: relative;
	margin: 0;
	padding: 5em 1.69% 0;
	color: $color-text;
	background: $color-background;
}

.txp-body {
	@extend .clearfix;
	max-width: 116em; // 1508px / 13px
	margin: 0 auto;
}


/* Header
   ========================================================================== */

.txp-header {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	z-index: 1000;
	padding: 0 1.69%;
	height: 3em;
	@include box-shadow(0 0.2em 0.25em rgba(#000, 0.15));
	@include gradient-linear-bar($color-gradient2-from, $color-gradient2-to);

	h1 {
		float: left;
		margin: 0;
		padding-left: $logo-large-width;
		font-size: 1em; // 13px
		line-height: 3em;
		background: no-repeat left 48%;
		max-width: 25%;
		@include ellipsis;
		background: no-repeat 0 46%;
		@include svg-graphic($logo-large-filename, $logo-large-filetype, $logo-large-width, $logo-large-height);

		a {
			margin-right: 1em;
			margin-left: 1em;
			color: $color-text;

			&:hover {
				color: lighten($color-text, 10%);
				text-decoration: none;
			}
		}
	}
}

.txp-logout {
	position: absolute;
	top: -0.53846em; // 7px / 13px
	right: 1.69%;
}


@import "navigation";


/* Footer
   ========================================================================== */

.txp-footer {
	@extend .clearfix;
}

.mothership {
	float: left;
}

.pagejump {
	float: right;
}


/* Miscellaneous/shared layout
   ========================================================================== */

/* hide text but still allow screen reader access */
.txp-accessibility {
	position: absolute;
	left: -1000em;
	height: 1px;
	width: 1px;
	overflow: hidden;
}

[role="search"] {
	float: right;

	p {
		margin: 0 0.35em 0 0;
	}
}

.txp-buttons {
	margin-top: 0;
}

#detail-toggle {
	float: right;
}

.txp-control-panel {
	margin-top: 0.5em;
	text-align: right;
}

.txp-actions a {
	margin-left: 0.75em;
}

div.multi-edit {
	margin: 1em 0;
}

.multi-option {
	display: none;
}

.multi-step {
	margin-left: 0.30769em;
	display: inline-block;
}

.text-section {
	padding-top: 5em;
	background: url("../img/separator.gif") repeat-x 0 2.15384em; // 28px / 13px
}

.restricted-area {
	font-size: 2em; // 26px / 13px
	text-align: center;
}

.empty {
	display: none;
}

.disabled {
	opacity: 0.33;
	/* transparency support for IE8 */
	filter: alpha(opacity=33);
}

/* list navigators on list pages */

.txp-navigation {
	p,
	ul {
		margin: 0 0 0.5em;
	}

	.pageby {
		float: left;
	}

	.prev-next {
		float: right;
	}
}

/* AJAX spinner */
span.spinner {
	display: inline-block;
	width: 13px;
	height: 13px;
	background-image: url("../img/spinner.gif");
}
@media print, (-o-min-device-pixel-ratio: 5/4), (-webkit-min-device-pixel-ratio: 1.25), (min-resolution: 120dpi) {
	span.spinner {
		background-image: url("../img/spinner@2x.gif") !important;
		-webkit-background-size: 13px 13px;
		background-size: 13px 13px;
	}
}


/* Edit and login panes
   ========================================================================== */

.txp-edit,
.txp-login {
	margin: 0 auto 1em;
	@include border-radius;
	padding: 1em 1em 1px 1em;
	background: $color-background-box;
}

.txp-edit,
.txp-login,
.edit-form,
.prefs-form,
.txp-login {
	p {
		@extend .clearfix;
	}
}

.txp-edit {
	max-width: ($text-column - 2em);
}

.txp-login {
	max-width: 35em;
}

.txp-label,
.txp-value {
	float: left;
	width: 50%;
}

.txp-value {
	input,
	select {
		margin-top: -0.23076em;
		margin-bottom: -0.23076em;
	}
}

.txp-value-fixed {
	display: inline-block;
	padding: 0.23076em 0; // 3px / 13px
}

/* deprecated @ 4.6 */
.edit-label, 
.login-label {
	display: inline-block;
	float: left;
}

/* deprecated @ 4.6 */
.edit-label {
	width: 42%;
}

/* deprecated @ 4.6 */
.login-label {
	width: 31%;
}

/* deprecated @ 4.6 */
.edit-value,
.login-value {
	display: inline-block;
	float: right;

	input,
	select {
		margin-top: -0.23076em;
		margin-bottom: -0.23076em;
	}
}

/* deprecated @ 4.6 */
.edit-value {
	width: 58%;
}

/* deprecated @ 4.6 */
.login-value {
	width: 69%;
}

/* TBC (for modals @ 4.6) */
.txp-edit-action {
	margin-right: -1em;
	margin-left: -1em;
	margin-bottom: 0;
	border-top: 1px solid $color-background;
	@include border-bottom-radius;
	padding: 1em;
	background: darken($color-background-box, 3%);

	input[type="submit"] {
		float: right;
	}
}


/* Setup pages
   ========================================================================== */

body#page-setup {
	padding: 1em 2em 0;
}

.txp-setup {
	margin: 1em auto 2em;
	max-width: $standard-column;
}

/* rules specific to the very first page you'll see */
.welcome {
	.txp-setup {
		max-width: 20.30769em;
	}

	h1 {
		font-size: 1em;
		width: 20.30769em; // 264px / 13px
		height: 4.15384em; // 54px / 13px
		@include hide-text;
		background-repeat: no-repeat;
		@include svg-graphic(textpattern-xlrg, png, 20.30769em, 4.15384em);
	}

	select {
		width: 100%;
	}
}


/* Tag builder page
   ========================================================================== */

#tag-event {
	padding: 2.5em 0.5em 1em;
	overflow-y: scroll;

	h3 {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		z-index: 1000;
		padding: 0.5em 1em;
		@include box-shadow(0 0.2em 0.25em rgba(#000, 0.15));
		@include gradient-linear-bar($color-gradient2-from, $color-gradient2-to);
	}

	th,
	td {
		padding: 0.5em;
		width: 50%;
	}

	p {
		margin: 0.5em;
	}
}


/* Content -> Categories page
   ========================================================================== */

.categories {
	margin-bottom: 1em;
	padding: 1em 1em 1px;
	background: $color-background-box;
}


/* Content -> Write page
   ========================================================================== */

#view_modes {
	ul {
		list-style: none;
		padding: 0;
	}

	li {
		display: inline-block;
		font-size: 16px;
		margin-right: 0.5em; // 8px / 16px
		width: 1.5em; // 24px / 16px
		height: 1.5em; // 24px / 16px
	}

	a {
		@include hide-text;
		display: block;
		@include border-radius;
		width: 1.5em; // 24px / 16px
		height: 1.5em; // 24px / 16px
		background: $color-gradient-from no-repeat 50% 50%;
	}

	a:hover,
	li.active a {
		background-color: $color-highlight-box;
	}
}

.no-svg #tab-text a {
	background-image: url("../img/view-text.png");
}
.svg #tab-text a {
	background-image: url("../img/view-text.svg");
}

.no-svg #tab-html a {
	background-image: url("../img/view-html.png");
}
.svg #tab-html a {
	background-image: url("../img/view-html.svg");
}

.no-svg #tab-preview a {
	background-image: url("../img/view-preview.png");
}
.svg #tab-preview a {
	background-image: url("../img/view-preview.svg");
}

.svg #view_modes a {
	-webkit-background-size: 1.5em 1.5em;
	-moz-background-size: 1.5em 1.5em;
	-o-background-size: 1.5em 1.5em;
	background-size: 1.5em 1.5em;
}

.html .excerpt {
	margin-bottom: 1em;
}

#main_content {
	#title {
		width: 75%;
	}

	.author {
		color: $color-text-footnote;
	}
}

#recent_group {
	ul {
		list-style: decimal-leading-zero;
	}

	li {
		margin-left: 2em;
	}
}


/* Content -> Articles page
   ========================================================================== */

.unpublished {
	color: $color-text-footnote;
}


/* Content -> Images page
   ========================================================================== */

.fullsize-image {
	text-align: center;
	margin-bottom: 1em;

	img {
		@include box-sizing(border-box);
		max-width: 100%;
		height: auto;
	}
}

.thumbnail-edit {
	overflow-x: auto;
	margin-bottom: 1em;

	form {
		display: inline-block;
		vertical-align: top;
		margin-top: 5px;
	}
}

.edit-image-replace,
.edit-upload-thumbnail,
.edit-alter-thumbnail {
	input[type="submit"] {
		float: right;
	}
}


/* Content -> Files page
   ========================================================================== */

.edit-file-replace input[type="submit"] {
	float: right;
}


/* Content -> Comments page
   ========================================================================== */

#page-discuss .txp-list tr.spam {
	background: lighten($error-background, 2%);
}

#page-discuss .txp-list tr.moderate {
	background: lighten($warning-background, 2%);
}


/* Admin -> Languages page
   ========================================================================== */

#page-lang .txp-list .modified {
	color: $color-text-footnote;
	margin-left: 0.6em;
}

#textpack-install {
	width: 50%;
}


/* Admin -> Plugins page
   ========================================================================== */

tr {
	.manage span,
	.plugin-prefs {
		visibility: hidden;
	}
}

tr.active {
	.manage span,
	.plugin-prefs {
		visibility: visible;
	}
}

#plugin-install {
	width: 50%;
}

#plugin-code {
	height: 23em;
}

div.code {
	margin-bottom: 1em;
	border: 1px solid $color-border;
	padding: 0.15384em 0.38461em;
	height: 21em;
	overflow: auto;
	@include box-sizing(border-box);
}

/* Deprecated @ 4.6 - use `.txp-layout-textbox` instead */
.plugin-column {
	margin: 0 auto;
	max-width: 57em;

	& p {
		@extend .clearfix;
	}
}

@import "responsive";
