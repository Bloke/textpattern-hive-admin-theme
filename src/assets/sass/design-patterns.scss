// import global variables
@use "setup/settings";

// import any additional mixins
@use "setup/helpers";

// import colourscheme
@use "setup/colours";



/* ==========================================================================
   ONLY for use in design patterns - classes NOT USED in actual theme distro.
   ========================================================================== */

body {
    display: block;
    padding: 0 1em 1em;
}

.design-patterns-section {
    padding-top: 0.25em;
}

.design-patterns-menu {
    max-width: 62em;
    margin: 0 auto;
    padding: 2em 0;

    // Enforce LTR behaviour in nav list.

    ol {
        padding: 0 0 0 2em;
    }
}

.design-patterns-heading {
    padding-top: 1em;
}

/**
 * Make sure code examples use black text within information blocks.
 */

.information code {
    color: colours.$color-text;
}

/**
 * ScrollSpy indicators.
 */

.is-inview {
    position: relative;

    &::before {
        content: "";
        position: absolute;
        z-index: 2001;
        left: -2em;
        width: 1.5em;
        height: 1.5em;
        border-radius: 0.25em;
        background-color: rgba(colours.$color-link-focus, 0.25);
    }
}

@include helpers.dark-mode {
    .is-inview::before {
        background-color: rgba(colours.$dark-color-link-focus, 0.25);
    }
}


/* Colour palette.
   ========================================================================== */

/**
 * Generate the colour swatches dynamically.
 *
 * More info: http://www.guyroutledge.co.uk/blog/style-guide-colours-with-sass/
 */

$colors: (
    "text":                 colours.$color-text,
    "text-footnote":        colours.$color-text-footnote,
    "gradient-from":        colours.$color-gradient-from,
    "gradient-to":          colours.$color-gradient-to,
    "border-extra-dark":    colours.$color-border-extra-dark,
    "border-dark":          colours.$color-border-dark,
    "border":               colours.$color-border,
    "border-light":         colours.$color-border-light,
    "border-extra-light":   colours.$color-border-extra-light,
    "link":                 colours.$color-link,
    "link-hover":           colours.$color-link-hover,
    "link-focus":           colours.$color-link-focus,
    "link-selecting":       colours.$color-selecting,
    "link-selected":        colours.$color-selected,
    "background":           colours.$color-background,
    "background-box":       colours.$color-background-box,
    "highlight-box":        colours.$color-highlight-box,
    "strong-highlight-box": colours.$color-strong-highlight-box,
    "accent-gradient-from": colours.$color-accent-gradient-from,
    "accent-gradient-to":   colours.$color-accent-gradient-to,
    "success-text":         colours.$color-success-text,
    "success-background":   colours.$color-success-background,
    "warning-text":         colours.$color-warning-text,
    "warning-background":   colours.$color-warning-background,
    "error-text":           colours.$color-error-text,
    "error-background":     colours.$color-error-background,
    "info-text":            colours.$color-info-text,
    "info-background":      colours.$color-info-background
);

$dark-colors: (
    "text":                 colours.$dark-color-text,
    "text-footnote":        colours.$dark-color-text-footnote,
    "gradient-from":        colours.$dark-color-gradient-from,
    "gradient-to":          colours.$dark-color-gradient-to,
    "border-extra-dark":    colours.$dark-color-border-extra-dark,
    "border-dark":          colours.$dark-color-border-dark,
    "border":               colours.$dark-color-border,
    "border-light":         colours.$dark-color-border-light,
    "border-extra-light":   colours.$dark-color-border-extra-light,
    "link":                 colours.$dark-color-link,
    "link-hover":           colours.$dark-color-link-hover,
    "link-focus":           colours.$dark-color-link-focus,
    "link-selecting":       colours.$dark-color-selecting,
    "link-selected":        colours.$dark-color-selected,
    "background":           colours.$dark-color-background,
    "background-box":       colours.$dark-color-background-box,
    "highlight-box":        colours.$dark-color-highlight-box,
    "strong-highlight-box": colours.$dark-color-strong-highlight-box,
    "accent-gradient-from": colours.$color-accent-gradient-from,
    "accent-gradient-to":   colours.$color-accent-gradient-to,
    "success-text":         colours.$dark-color-success-text,
    "success-background":   colours.$dark-color-success-background,
    "warning-text":         colours.$dark-color-warning-text,
    "warning-background":   colours.$dark-color-warning-background,
    "error-text":           colours.$dark-color-error-text,
    "error-background":     colours.$dark-color-error-background,
    "info-text":            colours.$dark-color-info-text,
    "info-background":      colours.$dark-color-info-background
);

.design-patterns-color {
    display: block;
    position: relative;
    height: 3em; // 39px / 13px
    margin: 1em 0;
    border: 1px solid colours.$color-border;

    &::after {
        position: absolute;
        top: 0.69230769230769em; // 9px / 13px
        padding: 1px 0.23076923076923em; // 3px / 13px
        background-color: rgba(255, 255, 255, 0.66);
        font-family: settings.$font-code;
    }
}

@include helpers.dark-mode {
    .design-patterns-color {
        border-color: colours.$dark-color-border;

        &::after {
            background-color: rgba(0, 0, 0, 0.66);
        }
    }
}

@each $name, $color in $colors {
    .design-patterns-color-#{$name} {
        background: $color;

        &::after {
            content: "#{$color}";
        }
    }
}

@include helpers.dark-mode {
    @each $name, $color in $dark-colors {
        .design-patterns-color-#{$name} {
            background: $color;

            &::after {
                content: "#{$color}";
            }
        }
    }
}


/* Layout grid examples.
   ========================================================================== */

.design-patterns-box {
    margin-top: 0;
    padding: 1em;
    background: rgba(0, 0, 0, 0.33);
}


/* jQuery UI styling specific to design patterns.
   ========================================================================== */

/**
 * The list of all available icons.
 */

.jquery-ui-icons li {
    position: relative;
    margin: 2px;
    padding: 4px 0;
    float: left;
    list-style: none;
    cursor: pointer;
}

[dir="rtl"] .jquery-ui-icons li {
    float: right;
}

.jquery-ui-icons .ui-icon {
    margin: 0 4px;
    float: left;
}

[dir="rtl"] .jquery-ui-icons .ui-icon {
    float: right;
}

/**
 * The vertical slider example.
 */

.jquery-ui-slider-vertical span {
    height: 120px;
    margin: 15px;
    float: left;
}

[dir="rtl"] .jquery-ui-slider-vertical span {
    float: right;
}

/**
 * Declare a width for jQuery UI menus.
 */

.ui-menu {
    width: 150px;
}

/**
 * Absolute positioning for miscellaneous jQuery UI menus.
 */

.ui-menu:not(.jquery-ui-menu) {
    position: absolute;
    z-index: 1000;
}

/**
 * Additional information tags on design patterns doc headings.
 *
 * Example HTML:
 *
 * <h2>Title <span>new v4.7</span></h2>
 */

.design-patterns-section h1 span,
h2 span {
    font-size: 1rem;
    font-weight: normal;
}

@media (min-width: settings.$break-small) {
    body {
        padding: 0 2em 1em;
    }
}

@media (min-width: settings.$break-large) {
    body {
        padding: 0 4% 1em;
    }

    /**
     * Fixed sidebar.
     */

    .design-patterns-menu {
        position: fixed;
        z-index: 2000;
        top: 0;
        bottom: 0;
        left: 0;
        box-sizing: border-box;
        width: 27%;
        padding: 2em 2%;
        overflow-x: hidden;
        overflow-y: auto;
        border-right: 1px solid colours.$color-border;
        background-color: colours.$color-background-box;
        box-shadow: inset -0.25em 0 0.25em -0.25em rgba(0, 0, 0, 0.2);
    }

    body.darkmode .design-patterns-menu {
        border-right-color: colours.$dark-color-border-extra-dark;
        background-color: colours.$dark-color-background-box;
    }

    .design-patterns-content {
        margin-left: 28%;
    }

    .design-patterns-content-container {
        max-width: 80em;
        margin: 0 auto;
    }
}
