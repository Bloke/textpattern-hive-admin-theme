@use "../setup";

/* Forms - input type file
   ========================================================================== */

[type="file"] {
    box-sizing: border-box;
    height: auto;
    min-height: 2.307692307692308em; // 30px / 13px
    padding: 0.30769230769231em; // 4px / 13px
    border: 1px solid var(--color-border);

    @if setup.$border-radius > 0 {
        border-radius: setup.$border-radius;
    } @else {
        border-radius: 0;
    }

    background: var(--color-background-form);
    appearance: none;
    cursor: pointer;

    &:hover {
        border-color: var(--color-border-extra-dark);
    }

    &:focus {
        border-color: var(--color-link-focus);
        outline: 2px solid transparent; // Allows for repainting in high contrast modes.
    }
}

@include setup.dark-mode {
    [type="file"] {
        border-color: var(--color-border-extra-dark);

        &:hover {
            border-color: var(--color-border-extra-light);
        }

        &:focus {
            border-color: var(--color-link-focus);
        }
    }
}

::-webkit-file-upload-button {
    @include setup.gradient-linear(var(--color-button-gradient-from), var(--color-button-gradient-to));

    padding: 0 0.25em;
    border: 0;

    @if setup.$border-radius > 0 {
        border-radius: setup.$border-radius;
    } @else {
        border-radius: 0;
    }

    color: var(--color-text-button);
    font: inherit;
    /* autoprefixer: off */
    appearance: none;
    cursor: pointer;
}

[type="file"]:hover::-webkit-file-upload-button {
    filter: brightness(1.05);
}

[type="file"]:active::-webkit-file-upload-button {
    filter: brightness(0.95);
}
