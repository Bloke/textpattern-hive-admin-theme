/* Progress indicators
   ========================================================================== */

/**
 * Add the correct vertical alignment in Chrome, Firefox, and Opera.
 */

progress {
    vertical-align: baseline;
}

/**
 * Styled progress indicators.
 *
 * Example HTML:
 *
 * <progress class="txp-upload-progress"></progress>
 */

.txp-upload-progress {
    width: 100%;
    max-width: 30em; // 390px / 13px
    height: 8px;
    border: 1px solid $color-border;
    border-radius: 4px;
    appearance: none;
    box-sizing: border-box;
}

// WebKit/Blink.

.txp-upload-progress::-webkit-progress-bar {
    background-color: #e7e7e7;
}

.txp-upload-progress::-webkit-progress-value {
    background-color: $color-accent-gradient-to;
    background-image: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.25) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255, 255, 255, 0.25) 50%,
        rgba(255, 255, 255, 0.25) 75%,
        transparent 75%,
        transparent
    );
    background-size: 24px 24px;
    animation: progressbar-stripes linear 4s infinite;
}

.txp-upload-progress:indeterminate::-webkit-progress-bar {
    background-color: $color-border;
    background-image: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.25) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255, 255, 255, 0.25) 50%,
        rgba(255, 255, 255, 0.25) 75%,
        transparent 75%,
        transparent
    );
    background-size: 24px 24px;
    animation: progressbar-stripes linear 4s infinite;
}

// Stop animation at 100% progress.
.txp-upload-progress[value="1"]::-webkit-progress-value {
    background-image: none;
}

// Gecko/Quantum.

.txp-upload-progress::-moz-progress-bar {
    background-color: $color-accent-gradient-to;
    background-image: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.25) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255, 255, 255, 0.25) 50%,
        rgba(255, 255, 255, 0.25) 75%,
        transparent 75%,
        transparent
    );
    background-size: 24px 24px;
    /* autoprefixer: off */
    animation: progressbar-stripes linear 4s infinite;
}

.txp-upload-progress:indeterminate::-moz-progress-bar {
    background-color: $color-border;
    background-image: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.25) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255, 255, 255, 0.25) 50%,
        rgba(255, 255, 255, 0.25) 75%,
        transparent 75%,
        transparent
    );
    background-size: 24px 24px;
    /* autoprefixer: off */
    animation: progressbar-stripes linear 4s infinite;
}

// Stop animation at 100% progress.
.txp-upload-progress[value="1"]::-moz-progress-bar {
    background-image: none;
}

// Trident/EdgeHTML.

.txp-upload-progress::-ms-fill {
    border: 0;
    background-color: $color-accent-gradient-to;
    background-image: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.25) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255, 255, 255, 0.25) 50%,
        rgba(255, 255, 255, 0.25) 75%,
        transparent 75%,
        transparent
    );
    background-size: 24px 24px;
    /* autoprefixer: off */
    animation: progressbar-stripes linear 4s infinite;
}

// Stop animation at 100% progress.
.txp-upload-progress[value="1"]::-ms-fill {
    background-image: none;
}

/**
 * Reverse the progress direction in RTL languages.
 */

// WebKit/Blink.

[dir="rtl"] .txp-upload-progress::-webkit-progress-value {
    animation-direction: reverse;
}

[dir="rtl"] .txp-upload-progress:indeterminate::-webkit-progress-bar {
    animation-direction: reverse;
}

// Gecko/Quantum.

[dir="rtl"] .txp-upload-progress::-moz-progress-bar {
    /* autoprefixer: off */
    animation-direction: reverse;
}

[dir="rtl"] .txp-upload-progress:indeterminate::-moz-progress-bar {
    /* autoprefixer: off */
    animation-direction: reverse;
}

// Trident/EdgeHTML.

[dir="rtl"] .txp-upload-progress::-ms-fill {
    /* autoprefixer: off */
    animation-direction: reverse;
}
