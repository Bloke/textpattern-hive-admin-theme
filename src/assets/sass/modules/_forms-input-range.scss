@use "../setup";

/* Forms - input type range
   ========================================================================== */

/**
 * Range and number input combination.
 *
 * Example HTML:
 *
 * <div class="txp-input-range">
 *     <input type="range">
 *     <input class="input-number-max100" type="number">
 * </div>
 */

.txp-input-range {
    display: flex;
}

[type="range"] + input.input-number-max100 {
    margin-left: 0.5em;
}

[dir="rtl"] {
    [type="range"] + input.input-number-max100 {
        margin-right: 0.5em;
        margin-left: 0;
    }
}

/**
 * 1. Correct background colour in Firefox.
 */

[type="range"] {
    width: 100%;
    max-width: 30em; // 390px / 13px
    /* 1 */
    background-color: transparent;
    vertical-align: baseline;
    appearance: none;

    &:focus {
        outline: 0;
    }
}

// WebKit/Blink.

[type="range"]::-webkit-slider-thumb {
    @include setup.gradient-linear(var(--color-button-gradient-from), var(--color-button-gradient-to));

    width: 20px;
    height: 20px;
    margin-top: -5px;
    border: 1px solid var(--color-border-extra-dark);
    border-radius: 50%;
    box-shadow: var(--standard-shadow);
    appearance: none;
    cursor: pointer;
}

[type="range"]:hover::-webkit-slider-thumb {
    filter: brightness(1.05);
}

[type="range"]:active::-webkit-slider-thumb {
    filter: brightness(0.95);
}

[type="range"]:focus::-webkit-slider-thumb {
    border-color: var(--color-link-focus);
}

[type="range"]::-webkit-slider-runnable-track {
    box-sizing: border-box;
    width: 100%;
    height: 12px;
    border: 1px solid var(--color-border);
    background-color: var(--color-background-form);
    cursor: pointer;
}

[type="range"]:hover::-webkit-slider-runnable-track {
    border-color: var(--color-border-extra-dark);
}

[type="range"]:active::-webkit-slider-runnable-track,
[type="range"]:focus::-webkit-slider-runnable-track {
    border-color: var(--color-link-focus);
}

@include setup.dark-mode {
    [type="range"]::-webkit-slider-runnable-track {
        border-color: var(--color-border-extra-dark);
    }

    [type="range"]:hover::-webkit-slider-runnable-track {
        border-color: var(--color-border-extra-light);
    }

    [type="range"]:active::-webkit-slider-runnable-track,
    [type="range"]:focus::-webkit-slider-runnable-track {
        border-color: var(--color-link-focus);
    }
}

// Gecko/Quantum.

[type="range"]::-moz-range-thumb {
    @include setup.gradient-linear(var(--color-button-gradient-from), var(--color-button-gradient-to));

    width: 20px;
    height: 20px;
    border: 1px solid var(--color-border-extra-dark);
    border-radius: 50%;
    box-shadow: var(--standard-shadow);
    /* autoprefixer: off */
    appearance: none;
    cursor: pointer;
}

[type="range"]:hover::-moz-range-thumb {
    filter: brightness(1.05);
}

[type="range"]:active::-moz-range-thumb {
    filter: brightness(0.95);
}

[type="range"]:focus::-moz-range-thumb {
    border-color: var(--color-link-focus);
}

[type="range"]::-moz-range-track {
    box-sizing: border-box;
    width: 100%;
    height: 12px;
    border: 1px solid var(--color-border);
    background-color: var(--color-background-form);
    cursor: pointer;
}

[type="range"]:hover::-moz-range-track {
    border-color: var(--color-border-extra-dark);
}

[type="range"]:focus::-moz-range-track {
    border-color: var(--color-link-focus);
}

[type="range"]::-moz-focus-outer {
    border-style: none;
}

@include setup.dark-mode {
    [type="range"]::-moz-range-track {
        border-color: var(--color-border-extra-dark);
    }

    [type="range"]:hover::-moz-range-track {
        border-color: var(--color-border-extra-light);
    }

    [type="range"]:focus::-moz-range-track {
        border-color: var(--color-link-focus);
    }
}
