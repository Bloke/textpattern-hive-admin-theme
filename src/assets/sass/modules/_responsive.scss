/* ==========================================================================
   Additional layout for devices < 768px
   ========================================================================== */


@media only screen and (max-width: $breakpoint-1) {


    /* Layout < 768px
       ========================================================================== */

    /**
     * Adjust right/left padding of body.
     */

    body {
        padding: 4em 1em 0;
    }

    body#page-setup {
        padding: 0 1em 0;
    }


    /* Header < 768px
       ========================================================================== */

    /**
     * Adjust right/left padding of header area.
     */

    .txp-header {
        padding: 0 1em;
    }

    /**
     * Smaller version of Textpattern logo.
     */

    .txp-header h1 {
        background-image: url("../img/textpattern-sml.svg");
        background-size: 2em 2em;
        max-width: 50%;
        padding-left: 2em;
    }

    /**
     * Adjust right absolute position of logout button.
     */

    .txp-logout {
        right: 1em;
    }


    /* Navigation < 768px
       ========================================================================== */

    /**
     * TODO?
     */


    /* Content -> Write page < 768px
       ========================================================================== */

    /**
     * Turn off features to optimise small screen size.
     */

    #textile_group,
    #recent_group {
        display: none;
    }

}



/* ==========================================================================
   Additional layout for devices < 547px
   ========================================================================== */


@media only screen and (max-width: $breakpoint-2) {

    /**
     * Hide the header site name text on mobile layout.
     */

    .txp-header h1 {
        @include hide-text;

        width: 0.7692308em;
        text-overflow: clip;
    }

    /**
     * Label/value one-column layouts within edit/login panes.
     *
     * Collapsed from two-column format on desktop layout.
     *
     * Example HTML:
     *
     * <p>
     *     <span class="txp-label">
     *         <label>Label</label> <a class="pophelp">i</a>
     *     </span>
     *     <span class="txp-value">
     *         <input type="text" size="32">
     *     </span>
     * </p>
     */

    .txp-label,
    .txp-value {
        float: none;
        display: block;
        width: 100%;
    }

    /**
     * Remove inline alignment margin values when collapsed.
     */

    .txp-value {
        input,
        select {
            margin: 0;
        }
    }

    /**
     * Label/value one-column layouts within edit panes - OLD.
     *
     * @deprecated in 4.6.0
     * @see        .txp-label
     * @see        .txp-value
     */

    .edit-label,
    .edit-value {
        float: none;
        width: 100%;
    }

    /**
     * Remove inline alignment margin values when collapsed - OLD.
     *
     * @deprecated in 4.6.0
     * @see        .txp-value
     */

    .edit-value {
        input,
        select {
            margin: 0;
        }
    }

    /**
     * TODO: Would be unnecessary if we use auto-resizing text areas.
     */

    #article-main #body {
        height: 17.46153em; // 227px / 13px
    }

    /**
     * TODO: Would be unnecessary if we use auto-resizing text areas.
     */

    #excerpt {
        height: 4.38461em; // 57px / 13px
    }

    /**
     * TODO: Would be unnecessary if we use auto-resizing text areas.
     */

    #page-page,
    #page-form,
    #page-css {
        textarea.code {
            height: 17.46153em; // 227px / 13px
        }
    }

    /**
     * Remove float from `.txp-navigation` elements.
     */

    .txp-navigation {
        .pageby,
        .prev-next {
            float: none;
        }
    }

    /**
     * Collapse progress meters responsively.
     */

    .progress-meter {
        ol {
            display: block;
            margin-bottom: 1em;
            text-align: left;
        }

        li {
            float: none;
            display: block;
            margin: 0;

            &:after {
                display: none;
            }
        }
    }

    /**
     * Override specifity on collapsed progress meters in RTL languages.
     */

    [dir="rtl"] .progress-meter {
        ol {
            text-align: right;
        }

        li {
            margin: 0;

            &:after {
                display: none;
            }
        }
    }

    /**
     * Collapse jQuery UI tabs responsively.
     */

    .ui-tabs .ui-tabs-nav {
        li {
            @include box-shadow(none);
            @include border-radius(0);

            float: none;
            margin-top: 2px;
            border-bottom-width: 1px;

            &.ui-tabs-active {
                margin-bottom: 0;
                padding-bottom: 0;
            }

            [dir="rtl"] & {
                float: none;
            }
        }

        .ui-tabs-anchor {
            float: none;
            display: block;

            [dir="rtl"] & {
                float: none;
            }
        }
    }

    /**
     * Remove top border from jQuery UI tabs panel.
     */

    .ui-tabs .ui-tabs-panel {
        border-top-width: 0;
    }

}
