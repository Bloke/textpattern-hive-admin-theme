!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).autosize=t()}(this,function(){var n,o,u="function"==typeof Map?new Map:(n=[],o=[],{has:function(e){return-1<n.indexOf(e)},get:function(e){return o[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),o.push(t))},delete:function(e){e=n.indexOf(e);-1<e&&(n.splice(e,1),o.splice(e,1))}}),c=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){c=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function r(o){var t,n,r,e,i,l;function d(e){var t=o.style.width;o.style.width="0px",o.style.width=t,o.style.overflowY=e}function a(){var e;0!==o.scrollHeight&&(e=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&(e.parentNode.style.scrollBehavior="auto",t.push([e.parentNode,e.parentNode.scrollTop])),e=e.parentNode;return function(){return t.forEach(function(e){var t=e[0],e=e[1];t.scrollTop=e,t.style.scrollBehavior=null})}}(o),o.style.height="",o.style.height=o.scrollHeight+t+"px",n=o.clientWidth,e())}function s(){a();var e=Math.round(parseFloat(o.style.height)),t=window.getComputedStyle(o,null),n="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):o.offsetHeight;if(n<e?"hidden"===t.overflowY&&(d("scroll"),a(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight):"hidden"!==t.overflowY&&(d("hidden"),a(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight),r!==n){r=n;e=c("autosize:resized");try{o.dispatchEvent(e)}catch(e){}}}o&&o.nodeName&&"TEXTAREA"===o.nodeName&&!u.has(o)&&(r=n=t=null,e=function(){o.clientWidth!==n&&s()},i=function(t){window.removeEventListener("resize",e,!1),o.removeEventListener("input",s,!1),o.removeEventListener("keyup",s,!1),o.removeEventListener("autosize:destroy",i,!1),o.removeEventListener("autosize:update",s,!1),Object.keys(t).forEach(function(e){o.style[e]=t[e]}),u.delete(o)}.bind(o,{height:o.style.height,resize:o.style.resize,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap}),o.addEventListener("autosize:destroy",i,!1),"onpropertychange"in o&&"oninput"in o&&o.addEventListener("keyup",s,!1),window.addEventListener("resize",e,!1),o.addEventListener("input",s,!1),o.addEventListener("autosize:update",s,!1),o.style.overflowX="hidden",o.style.wordWrap="break-word",u.set(o,{destroy:i,update:s}),"vertical"===(l=window.getComputedStyle(o,null)).resize?o.style.resize="none":"both"===l.resize&&(o.style.resize="horizontal"),t="content-box"===l.boxSizing?-(parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)):parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth),isNaN(t)&&(t=0),s())}function t(e){e=u.get(e);e&&e.destroy()}function i(e){e=u.get(e);e&&e.update()}var e=null;return"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((e=function(e){return e}).destroy=function(e){return e},e.update=function(e){return e}):((e=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],t),e},e.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e}),e}),function(){"use strict";var e=document.querySelectorAll("textarea:not(.code)");e.length&&autosize(e)}();